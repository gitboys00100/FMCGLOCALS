<!--
<div  style="height:400px;max-height:400px;overflow-y:auto; overflow-x:hidden;">
  <div style="margin-bottom:10px;">
-->

<div style="overflow-y:auto; overflow-x:auto;" *ngFor="let r of retailerList">
  <div style="margin-bottom:10px;">

    <div class="row">
      <div class="col-md-12">
        <button class="pull-right btn btn-new-itinerary" (click)="onAdd()">
          <i class="fa fa-plus"></i>&nbsp;&nbsp;Add User
        </button>
      </div>
    </div>


<!--<div class="row">-->
<!--<div class="col-md-6"><h3>Manage Users</h3> </div>-->
<!--
    <div class="col-md-12">
      <button class="pull-right btn btn-new-itinerary" (click)="onAdd()">
        <i class="fa fa-plus"></i>&nbsp;&nbsp;Add User
      </button>
    </div>
  -->
<!--</div>-->

<div style="width:100%; margin-top:10px;">
    <div style="min-width:10%; display:inline-block;">
        <label>Filters :</label>
    </div>

    <div style="min-width:15%; display:inline-block; margin-right:25px;">
        <select (change)="onFilterRole($event)" [value]="filterRole" class="form-control full-width">
            <option value="" >-- Role --</option>
            <option value="Manager">Manager</option>
            <option value="Supervisor">Supervisor</option>
            <option value="Sales Representative">Sales Representative</option>
        </select>
    </div>

    <div style="min-width:20%; display:flex; float:right;">
        <div class="input-group full-width less-mt" id="manageitsearch">
            <input (input)="onFilterSearchChange($event)" (keydown)="onKeyDown($event)" [value]="searchQuery" class="form-control" placeholder="Search" type="text">
            <div class="input-group-append">
                <button class="btn btn-secondary" type="button" (click)="onSearch()"><i class="fa fa-search"></i></button>
            </div>
        </div>
    </div>
</div>

<app-adduser-modal #onAddComponent></app-adduser-modal>
<app-deleteuser-modal #onDeleteComponent></app-deleteuser-modal>
<app-edituser-modal #onEditComponent></app-edituser-modal>

<table class="table table-bordered inventory-table">
	<thead>
		<tr class="tbl-header">
			<th scope="col">Name</th>
			<th scope="col">E-mail</th>
			<th scope="col">Role</th>
			<th scope="col">Action</th>
		</tr>
	</thead>


	<tbody>
		<tr *ngFor="let item of r.data | filter: filterRole | search: filterSearchQuery | paginate: { itemsPerPage: itemsPerPage, currentPage: p }">
			<td>{{ item.first_name + item.last_name }}</td>
			<td>{{ item.email}}</td>
			<td>
        <ng-container *ngIf="item.profile.role != null; else elseTemplate">
          {{item.profile.role.name}}
        </ng-container>
        <ng-template #elseTemplate>
          -
        </ng-template>
        <!--{{ item.profile.role.name}}--></td>
			<td class="text-center">
        <button class="btn btn-secondary" (click)="onEdit(item)" type="button">
                 Edit
        </button>
        <div class="divider"></div>
        <button class="btn btn-secondary" (click)="onDelete(item.id)" type="button">
                Delete
        </button>
      </td>
		</tr>
	</tbody>
</table>

</div>
</div>
<!--
<div class="row">
	<div class="col-md-12">
		<div class="form-group pg-form-group text-center">
			<pagination-controls class="pagination" (pageChange)="p = $event"></pagination-controls>
		</div>
	</div>
</div>
-->

<div class="row">
	<div class="col-md-6 form-inline">
		<label>Show :</label>&nbsp;&nbsp;
		<select (change)="onShowCountChange($event)" class="form-control sel-show full-width">
      <option selected value="5">5</option>
      <option value="10">10</option>
			<option value="25">25</option>
			<option value="50">50</option>
        </select>
    </div>
	<div class="col-md-6">
		<div class="form-group pg-form-group text-right">
			<pagination-controls class="pagination" (pageChange)="p = $event"></pagination-controls>
		</div>
	</div>
</div>









<app-modal #editDialog>
  <ng-template #modalHeader>Edit User: {{firstName}} {{lastName}}</ng-template>
  <ng-template #modalBody>

    <!--<h3 style="text-align:center;">Edit info</h3> -->
<form [formGroup]="profileForm" (ngSubmit)="onSubmit()">

    <div class="container-fluid">
    <div class="row align-self-center">
      <div class="container-fluid">
        <div class="row align-self-center">
          <div class="col-md-6 col-sm-12 col-12 text-left">First Name:</div>
          <div class="col-md-6 col-sm-12 col-12"><input class="form-control" formControlName="firstName" placeholder="{{firstName}}" type="text"></div>
          <br><br>
          <div class="col-md-6 col-sm-12 col-12 text-left">Last Name:</div>
          <div class="col-md-6 col-sm-12 col-12"><input class="form-control" formControlName="lastName" placeholder="{{lastName}}" value="{{lastName}}" type="text"></div>
          <br><br>
          <div class="col-md-6 col-sm-12 col-12 text-left">Username:</div>
          <div class="col-md-6 col-sm-12 col-12"><input class="form-control" formControlName="username" placeholder="{{username}}" value="{{username}}" type="text"></div>
          <br><br>
          <div class="col-md-6 col-sm-12 col-12 text-left">E-mail:</div>
          <div class="col-md-6 col-sm-12 col-12"><input class="form-control" formControlName="email" placeholder="{{email}}" value="{{email}}" type="email"></div>
        </div>
      </div>
    </div>
  </div>

  </form>

  </ng-template>
  <ng-template #modalFooter>
    <div class="container-fluid">
      <div class="row">
      	<div class="col-md-2 col-sm-0 col-0">
      	</div>
      	<div class="col-md-4 col-sm-12 col-12">
      		<button class="btn btn-item-create btn-success btn-block text-center" (click)="onSubmit()" style="margin:3px;">Save</button>
      	</div>
      	<div class="col-md-4 col-sm-12 col-12">
      		<button class="btn btn-item-create btn-default btn-block text-center" (click)="closeEditModal()" style="margin:3px;">Cancel</button>
      	</div>
      	<div class="col-md-2 col-sm-0 col-0">
      	</div>
      </div>
    </div>
  </ng-template>

</app-modal>






























<app-modal #deleteDialog>
  <ng-template #modalHeader>Delete </ng-template>
  <ng-template #modalBody>
    <h3 style="text-align:center;">Are you sure?</h3>
  </ng-template>



  <ng-template #modalFooter>
    <div class="container-fluid">
      <div class="row">
      	<div class="col-md-2 col-sm-0 col-0">
      	</div>
      	<div class="col-md-4 col-sm-12 col-12">
      		<button class="btn btn-item-create btn-success btn-block text-center" (click)="onDeleteSubmitModal()" style="margin:3px;">Delete</button>
      	</div>
      	<div class="col-md-4 col-sm-12 col-12">
      		<button class="btn btn-item-create btn-default btn-block text-center" (click)="closeDeleteModal()" style="margin:3px;">Cancel</button>
      	</div>
      	<div class="col-md-2 col-sm-0 col-0">
      	</div>
      </div>
    </div>
  </ng-template>

</app-modal>
