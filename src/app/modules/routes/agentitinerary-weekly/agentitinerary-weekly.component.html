<div class="loader" *ngIf="loading">
	<img src="../../../../assets/img/loader.gif" class="img">
</div>
<!-- <div class="col-md-3 col-form form-inline">
	<input  class="form-control full-width filterStyle" #date (input)="onChangeDate(date.value)" type="date">
</div> -->
<div id='calendar'></div>

<!-- The Modal -->
<app-modal #onSchedulerDetails>
	<ng-template #modalHeader>{{calheader}}</ng-template>

	<ng-template #modalBody>
		<div class="content">
        <div *ngFor="let item of caldata; let i = index">
						<div class="table-responsive">
  							<table class="table borderedtable">
									<thead>
										<tr>
											<th class="totalTD">AGENT</th>
											<th style="color:#000;">{{agentname}}</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td class="totalTD">RETAILER</td>
											<td>{{item.name}}</td>
										</tr>

										<tr>
											<td class="totalTD">NO. OF ITEMS</td>
											<td>{{item.accounts_receivable.length}}</td>
										</tr>

										<tr>
											<td class="totalTD">BALANCE</td>
											<td>
												<ng-container *ngIf="item.accounts_receivable.length > 0 ; else elseTemplate">
													<table class="table borderedtable">
														<tr>
															<td class="totalTD">
																Name
															</td>
															<td class="totalTD">
																Amount
															</td>
														</tr>
														<tr *ngFor="let r of item.accounts_receivable">
															<td>
																{{r.payment_term.name}}
															</td>
															<td >
																{{r.amount | number:'3.1-5'}}
															</td>
														</tr>
													</table>
												</ng-container>
												<ng-template #elseTemplate>
												  N/A
												</ng-template>
												<!-- {{000992092 | number:'3.1-5'}}  -->
											</td>
										</tr>

										<tr>
											<td class="totalTD">TOTAL</td>
											<td >
												{{totalbalance[i] | number:'3.1-5'}}
											</td>
										</tr>

										<tr>
											<td class="totalTD">DATE</td>
											<td>{{timestamp | date: 'MMMM d, y'}}</td>
										</tr>
									</tbody>
							</table>
						</div>
        </div> <!-- end ng for -->
		</div>
	</ng-template>

	<ng-template #modalFooter>
		<div class="row">
			<div class="col-md-12 text-left">
				<button class="btn btn-item-create btn-default" (click)="onSchedulerDetailsClose()">Cancel</button>
			</div>
		</div>
	</ng-template>
</app-modal>

<!-- <app-agentitinerary #onStockApprovedComponent></app-agentitinerary> -->
